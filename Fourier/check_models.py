def read_max_points_file(file_path):
    max_points_data = {}
    with open(file_path, 'r') as file:
        for line in file:
            parts = line.strip().split('=')
            folder_name = parts[0].strip()
            points_str = parts[1].strip()
            points_str = points_str[1:-1]  # Remove leading '[' and trailing ']'
            points_list = [tuple(map(int, point.strip().replace('(', '').replace(')', '').replace('\n', '').split(',')[0:2])) for point in points_str.split('),')]
            max_points_data[folder_name] = points_list
    return max_points_data

def calculate_percentage(array, variable):
    count = sum(1 for point in array if point in variable)
    return (count / len(array)) * 100

max_points_file = "max_points_w7.txt"
max_points_data = read_max_points_file(max_points_file)

# Array di triplette di coordinate x, y, z, ma ci interessa solo x e y
latent_diffusion_text2img_valid = [(0, 2, 143), (0, 11, 138), (5, 22, 135), (6, 33, 138), (1, 41, 136), (3, 51, 141), (2, 76, 144), (6, 84, 146), (2, 109, 145), (1, 112, 145), (2, 128, 151), (4, 168, 146), (0, 177, 141), (0, 226, 135), (6, 240, 139), (0, 254, 143), (10, 8, 141), (9, 50, 141), (7, 66, 140), (9, 96, 146), (11, 144, 149), (10, 157, 146), (7, 198, 142), (8, 216, 141), (13, 224, 140), (16, 14, 141), (14, 26, 137), (15, 50, 141), (20, 55, 141), (17, 86, 151), (16, 114, 144), (14, 128, 162), (20, 155, 140), (15, 169, 139), (14, 178, 143), (15, 198, 140), (19, 247, 139), (23, 4, 138), (25, 14, 136), (26, 39, 143), (21, 63, 143), (25, 71, 147), (25, 88, 141), (26, 98, 142), (22, 108, 144), (24, 109, 144), (25, 128, 155), (23, 147, 153), (27, 167, 144), (21, 188, 142), (27, 190, 142), (23, 198, 147), (21, 215, 138), (23, 225, 139), (24, 238, 140), (24, 255, 134), (34, 7, 142), (29, 31, 143), (30, 57, 134), (29, 79, 143), (30, 79, 143), (34, 96, 148), (33, 116, 146), (32, 128, 155), (31, 149, 151), (29, 179, 142), (31, 217, 139), (32, 229, 136), (32, 253, 134), (39, 16, 140), (41, 70, 140), (40, 85, 140), (38, 105, 148), (39, 145, 150), (36, 160, 145), (40, 171, 144), (40, 228, 138), (42, 8, 138), (42, 43, 141), (48, 51, 139), (48, 62, 141), (48, 80, 143), (44, 95, 143), (46, 96, 143), (46, 104, 152), (45, 114, 150), (42, 128, 157), (48, 169, 149), (42, 188, 142), (46, 196, 139), (42, 210, 142), (48, 218, 144), (42, 237, 143), (42, 245, 136), (50, 9, 139), (50, 28, 144), (50, 43, 138), (54, 72, 148), (54, 106, 149), (55, 127, 156), (50, 151, 148), (52, 182, 147), (58, 0, 139), (58, 16, 141), (59, 35, 138), (58, 59, 143), (56, 89, 149), (56, 117, 154), (57, 139, 153), (56, 172, 148), (59, 190, 148), (62, 219, 140), (60, 231, 138), (60, 246, 140), (66, 2, 140), (66, 13, 144), (64, 44, 143), (69, 60, 149), (64, 81, 147), (64, 128, 160), (65, 145, 148), (64, 156, 146), (68, 165, 150), (63, 196, 148), (65, 204, 139), (69, 249, 138), (76, 9, 141), (71, 26, 142), (75, 21, 142), (76, 39, 143), (72, 98, 149), (72, 128, 166), (76, 148, 149), (76, 161, 153), (71, 181, 146), (75, 205, 143), (74, 215, 141), (75, 223, 140), (71, 234, 133), (80, 0, 140), (77, 51, 140), (83, 60, 145), (81, 78, 154), (80, 118, 150), (81, 113, 150), (80, 137, 154), (80, 177, 145), (81, 179, 145), (80, 244, 138), (86, 12, 135), (89, 21, 146), (90, 57, 145), (87, 103, 147), (88, 129, 165), (90, 149, 146), (87, 157, 148), (84, 169, 149), (89, 189, 145), (85, 199, 150), (87, 208, 146), (84, 254, 140), (94, 1, 141), (97, 9, 134), (96, 32, 145), (92, 44, 147), (92, 58, 145), (92, 66, 152), (91, 75, 146), (91, 90, 150), (91, 102, 147), (91, 114, 140), (97, 141, 148), (96, 166, 146), (92, 178, 148), (91, 229, 139), (92, 245, 138), (101, 82, 148), (101, 94, 151), (98, 106, 147), (103, 127, 167), (98, 149, 142), (104, 192, 153), (99, 207, 152), (99, 255, 136), (106, 56, 140), (109, 65, 153), (111, 85, 152), (106, 109, 152), (106, 155, 143), (110, 208, 145), (105, 217, 143), (105, 227, 145), (113, 3, 142), (116, 16, 143), (116, 28, 147), (116, 51, 152), (118, 62, 157), (118, 73, 157), (117, 95, 148), (114, 105, 142), (118, 153, 146), (114, 161, 146), (112, 176, 149), (115, 197, 151), (113, 222, 144), (117, 236, 152), (112, 254, 146), (119, 115, 153), (122, 209, 152), (124, 221, 146), (125, 245, 154), (129, 1, 147), (131, 11, 154), (127, 20, 146), (132, 35, 146), (129, 56, 147), (129, 67, 155), (130, 78, 146), (128, 88, 153), (129, 101, 149), (128, 128, 255), (127, 155, 149), (128, 168, 153), (126, 178, 146), (127, 189, 155), (127, 200, 147), (132, 221, 144), (129, 236, 146), (127, 255, 147), (139, 20, 152), (134, 47, 152), (137, 70, 150), (138, 103, 146), (137, 141, 153), (139, 161, 148), (138, 183, 157), (138, 194, 157), (144, 2, 146), (143, 34, 144), (141, 59, 151), (144, 80, 149), (142, 95, 146), (145, 128, 169), (145, 171, 152), (140, 205, 152), (140, 228, 147), (140, 240, 143), (143, 253, 142), (152, 1, 136), (149, 12, 145), (151, 29, 145), (151, 39, 143), (152, 64, 153), (150, 101, 143), (147, 117, 143), (153, 129, 167), (150, 147, 152), (147, 191, 153), (150, 208, 144), (148, 214, 144), (157, 1, 136), (155, 20, 139), (157, 49, 152), (154, 72, 140), (160, 90, 146), (159, 115, 148), (158, 150, 147), (155, 162, 151), (155, 174, 148), (160, 224, 145), (164, 11, 138), (166, 19, 136), (165, 27, 139), (164, 37, 140), (167, 67, 145), (164, 78, 148), (166, 107, 146), (166, 145, 142), (165, 154, 147), (165, 166, 150), (164, 190, 152), (164, 198, 145), (166, 199, 145), (164, 212, 147), (167, 235, 146), (162, 255, 141), (172, 2, 140), (169, 48, 146), (171, 57, 150), (172, 87, 149), (169, 99, 148), (168, 127, 165), (169, 153, 147), (168, 220, 140), (170, 255, 137), (176, 0, 140), (176, 12, 138), (181, 33, 140), (181, 51, 143), (177, 65, 140), (175, 77, 145), (176, 79, 145), (180, 95, 153), (180, 108, 149), (176, 119, 154), (175, 143, 150), (175, 164, 145), (175, 178, 154), (176, 189, 150), (179, 205, 140), (180, 217, 143), (181, 235, 142), (180, 247, 141), (187, 7, 138), (182, 41, 141), (185, 75, 146), (188, 91, 150), (184, 128, 166), (184, 158, 149), (183, 178, 148), (187, 196, 149), (185, 230, 142), (194, 37, 140), (193, 60, 148), (192, 100, 146), (191, 111, 148), (190, 119, 152), (192, 128, 160), (192, 212, 143), (194, 229, 139), (190, 243, 144), (190, 254, 140), (198, 0, 139), (196, 10, 140), (196, 25, 138), (198, 51, 141), (197, 66, 148), (200, 84, 148), (199, 117, 153), (201, 129, 156), (200, 139, 154), (202, 150, 149), (200, 167, 149), (202, 184, 148), (198, 197, 143), (197, 221, 138), (198, 240, 141), (201, 255, 134), (206, 16, 136), (208, 38, 144), (204, 74, 147), (208, 87, 149), (206, 105, 148), (208, 176, 143), (208, 194, 141), (208, 205, 139), (206, 213, 138), (206, 228, 144), (206, 247, 139), (216, 0, 132), (214, 11, 136), (214, 19, 143), (216, 28, 138), (214, 46, 142), (210, 60, 139), (214, 68, 142), (216, 85, 144), (214, 128, 157), (211, 142, 150), (210, 152, 152), (212, 161, 143), (215, 186, 140), (214, 213, 141), (214, 248, 138), (220, 96, 145), (217, 111, 150), (223, 140, 146), (218, 151, 148), (222, 160, 148), (218, 195, 137), (217, 222, 136), (217, 240, 140), (222, 249, 142), (224, 0, 140), (224, 27, 136), (225, 39, 139), (229, 66, 142), (227, 77, 142), (229, 89, 144), (225, 107, 151), (224, 128, 155), (226, 177, 143), (227, 177, 143), (230, 217, 143), (227, 225, 143), (225, 233, 134), (237, 0, 137), (237, 9, 139), (232, 18, 140), (233, 31, 139), (235, 41, 138), (233, 58, 147), (235, 68, 142), (236, 101, 140), (233, 109, 153), (231, 128, 155), (232, 147, 144), (234, 148, 144), (235, 160, 140), (236, 157, 140), (231, 168, 141), (231, 185, 147), (235, 193, 143), (236, 201, 141), (235, 228, 138), (231, 242, 136), (233, 252, 138), (240, 17, 136), (243, 32, 140), (242, 50, 135), (241, 58, 140), (242, 78, 143), (241, 87, 139), (242, 128, 162), (240, 142, 144), (239, 170, 151), (241, 206, 141), (238, 215, 140), (240, 242, 141), (250, 16, 139), (248, 40, 141), (249, 58, 142), (247, 68, 138), (251, 80, 136), (246, 99, 146), (245, 112, 149), (247, 160, 146), (250, 172, 146), (249, 190, 140), (247, 206, 141), (250, 223, 138), (251, 234, 135), (246, 248, 141), (253, 8, 136), (255, 49, 134), (252, 88, 146), (254, 128, 151), (255, 144, 145), (254, 147, 145), (254, 180, 144), (253, 205, 141), (255, 215, 136), (255, 248, 132)]
array = [(x, y) for x, y, _ in latent_diffusion_text2img_valid]

max_percentage = 0
max_variable = None

total = 0
for folder_name, variable in max_points_data.items():
    # Estrai solo le coordinate x e y dalla variabile
    variable_xy = [(x, y) for x, y in variable]
    percentage = calculate_percentage(array, variable_xy)
    total+=percentage
    print(f"L'array è contenuto per il {percentage}% in '{folder_name}'")
    if percentage > max_percentage:
        max_percentage = percentage
        max_variable = folder_name

print(f"\nL'array è contenuto al massimo per il {max_percentage}% in '{max_variable}'")
print(f"\nAccuracy: {max_percentage/total*100}%")